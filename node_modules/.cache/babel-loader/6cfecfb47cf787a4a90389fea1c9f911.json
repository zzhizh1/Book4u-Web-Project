{"ast":null,"code":"var _jsxFileName = \"/Users/kejingwang/Desktop/CIS550Database/AllProjects/Project550New/client/src/components/Dashboard.js\";\nimport React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport \"../style/Dashboard.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport PageNavbar from \"./PageNavbar\"; // import GenreButton from \"./GenreButton\";\n// import DashboardMovieRow from \"./DashboardMovieRow\";\n\nimport StarIcon from \"../assets/images/star.png\";\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props); // The state maintained by this React Component. This component maintains the list of genres,\n    // and a list of movies for a specified genre.\n\n    this.submitBook = () => {\n      this.props.history.push(`/search?k=${this.state.bookName}`);\n    };\n\n    this.state = {\n      bookName: \"\",\n      search: [],\n      books: [],\n      bookDecade: []\n    };\n    this.showTop = this.showTop.bind(this);\n    this.showTopInDecade = this.showTopInDecade.bind(this);\n  }\n\n  componentDidMount() {\n    this.showTop();\n    this.showTopInDecade();\n  }\n\n  handleChange(e) {\n    console.log(e.target.value);\n    this.setState({\n      bookName: e.target.value\n    });\n  } // Search\n\n\n  // React function that is called when the page load.\n\n  /* Set this.state.movies to a list of <DashboardMovieRow />'s. */\n  showTop() {\n    fetch(\"http://localhost:8081/top10\", {\n      method: \"GET\"\n    }).then(res => res.json()).then(booksList => {\n      console.log(booksList);\n      this.setState({\n        books: booksList\n      });\n    }).catch(err => console.log(err));\n  }\n\n  showTopInDecade() {\n    fetch(\"http://localhost:8081/topDecade\", {\n      method: \"GET\"\n    }).then(res => res.json()).then(decadesList => {\n      console.log(decadesList);\n      this.setState({\n        bookDecade: decadesList\n      });\n    }).catch(err => console.log(err));\n  } // Go to the book's subpage/info page\n\n\n  goToSubpage(ISBN) {\n    console.log(\"In goToSubpage method of Dashboard class, print json passed from onclick attribute: \", ISBN);\n    console.log(\"Json data is sent from Dashboard\");\n    this.props.history.push({\n      pathname: '/subpage',\n      state: {\n        //ISBN: the ISBN of the book that user just clicked\n        ISBN: ISBN\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(PageNavbar, {\n      active: \"dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container movies-container mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"search-title text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }, \"Search\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"search11\",\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Enter title, author, publisher,...\",\n      \"aria-describedby\": \"button-addon2\",\n      onChange: e => this.handleChange(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-append\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-outline-secondary bg-primary text-white\",\n      type: \"button\",\n      id: \"button-addon2\",\n      onClick: this.submitBook,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }\n    }, \"Search\")))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"list-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"list pr-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"list-box bg-white px-3 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"list-title mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }, \"\\u2261 Top 10 Ratings Books\"), this.state.books.map((element, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"list-row pt-2\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"list-col cover-col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"cover\",\n        src: element.image_url_l,\n        onClick: () => this.goToSubpage(element),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"list-col content-col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 25\n        }\n      }, element.title), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"text-black-50\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 25\n        }\n      }, element.author)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"list-col rating-col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: StarIcon,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 25\n        }\n      }, element.rating)));\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"list pl-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"list-box bg-white px-3 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"list-title mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }\n    }, \"\\u2261 Best Books of the Decade\"), this.state.bookDecade.map((element, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"list-row pt-2\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"list-col cover-col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"cover\",\n        src: element.image_url_l,\n        onClick: () => this.goToSubpage(element),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"list-col content-col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"text-black-50\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 24\n        }\n      }, element.decade)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"list-col content-col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 25\n        }\n      }, element.title), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"text-black-50\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 25\n        }\n      }, element.author)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"list-col rating-col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: StarIcon,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 25\n        }\n      }, element.rating)));\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"footer mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }\n    }));\n  }\n\n}\n\nexport default withRouter(Dashboard);","map":{"version":3,"sources":["/Users/kejingwang/Desktop/CIS550Database/AllProjects/Project550New/client/src/components/Dashboard.js"],"names":["React","withRouter","PageNavbar","StarIcon","Dashboard","Component","constructor","props","submitBook","history","push","state","bookName","search","books","bookDecade","showTop","bind","showTopInDecade","componentDidMount","handleChange","e","console","log","target","value","setState","fetch","method","then","res","json","booksList","catch","err","decadesList","goToSubpage","ISBN","pathname","render","map","element","index","image_url_l","title","author","rating","decade"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport \"../style/Dashboard.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport PageNavbar from \"./PageNavbar\";\n// import GenreButton from \"./GenreButton\";\n// import DashboardMovieRow from \"./DashboardMovieRow\";\nimport StarIcon from \"../assets/images/star.png\";\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    // The state maintained by this React Component. This component maintains the list of genres,\n    // and a list of movies for a specified genre.\n    this.state = {\n      bookName: \"\",\n      search: [],\n      books: [],\n      bookDecade: []\n    };\n\n    this.showTop = this.showTop.bind(this);\n    this.showTopInDecade = this.showTopInDecade.bind(this);\n  }\n\n  componentDidMount() {\n    this.showTop();\n    this.showTopInDecade();\n  }\n\n  handleChange(e) {\n    console.log(e.target.value);\n    this.setState({\n      bookName: e.target.value,\n    });\n  }\n\n  // Search\n  submitBook = () => {\n    this.props.history.push(`/search?k=${this.state.bookName}`);\n  };\n\n  // React function that is called when the page load.\n  /* Set this.state.movies to a list of <DashboardMovieRow />'s. */\n  showTop() {\n    fetch(\"http://localhost:8081/top10\", {\n      method: \"GET\",\n    })\n      .then((res) => res.json())\n      .then((booksList) => {\n        console.log(booksList);\n        this.setState({\n          books: booksList,\n        });\n      })\n      .catch((err) => console.log(err));\n  }\n\n  showTopInDecade() {\n    fetch(\"http://localhost:8081/topDecade\", {\n      method: \"GET\",\n    })\n      .then((res) => res.json())\n      .then((decadesList) => {\n        console.log(decadesList);\n\n        this.setState({\n          bookDecade: decadesList,\n        });\n      })\n      .catch((err) => console.log(err));\n  } \n\n    // Go to the book's subpage/info page\n  goToSubpage(ISBN) {\n    console.log(\"In goToSubpage method of Dashboard class, print json passed from onclick attribute: \", ISBN);\n    console.log(\"Json data is sent from Dashboard\");\n    this.props.history.push({\n      pathname : '/subpage',\n      state :{\n        //ISBN: the ISBN of the book that user just clicked\n        ISBN:ISBN\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"Dashboard\">\n        <PageNavbar active=\"dashboard\" />\n\n        <br></br>\n        <div className=\"container movies-container mt-5\">\n          {/* Search */}\n          <div className=\"search\">\n            <h2 className=\"search-title text-white\">Search</h2>\n            <div className=\"input-group mb-5\">\n              <input\n              id=\"search11\"\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Enter title, author, publisher,...\"\n                aria-describedby=\"button-addon2\"\n                onChange={(e) => this.handleChange(e)}\n              />\n              <div className=\"input-group-append\">\n                <button\n                  className=\"btn btn-outline-secondary bg-primary text-white\"\n                  type=\"button\"\n                  id=\"button-addon2\"\n                  onClick={this.submitBook}\n                >\n                  Search\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <br></br>\n          {/* Left column */}\n          <div className=\"list-wrap\">\n            <div className=\"list pr-1\">\n              <div className=\"list-box bg-white px-3 pt-3\">\n                <h5 className=\"list-title mb-3\">≡ Top 10 Ratings Books</h5>\n\n                {this.state.books.map((element, index) => {\n                  return (\n                    <div className=\"list-row pt-2\" key={index}>\n                      <div className=\"list-col cover-col\">\n                        <img className=\"cover\" src={element.image_url_l} onClick={()=>this.goToSubpage(element)}/>\n                      </div>\n                      <div className=\"list-col content-col\">\n                        <h6>{element.title}</h6>\n                        <p className=\"text-black-50\">{element.author}</p>\n                      </div>\n                      <div className=\"list-col rating-col\">\n                        <img src={StarIcon} />\n                        <h6>{element.rating}</h6>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n\n            {/* Right column */}\n            <div className=\"list pl-1\">\n              <div className=\"list-box bg-white px-3 pt-3\">\n                <h5 className=\"list-title mb-3\">≡ Best Books of the Decade</h5>\n\n                {this.state.bookDecade.map((element, index) => {\n                  return (\n                    <div className=\"list-row pt-2\" key={index}>\n                      <div className=\"list-col cover-col\">\n                        <img className=\"cover\" src={element.image_url_l} onClick={()=>this.goToSubpage(element)}/>\n                      </div>\n                      <div className=\"list-col content-col\">\n                       <p className=\"text-black-50\">{element.decade}</p>\n                      </div>\n                      <div className=\"list-col content-col\">\n                        <h6>{element.title}</h6>\n                        <p className=\"text-black-50\">{element.author}</p>\n                      </div>\n                      <div className=\"list-col rating-col\">\n                        <img src={StarIcon} />\n                        <h6>{element.rating}</h6>\n                      </div>\n                    </div>\n                  );\n                })}\n                </div>                       \n              </div>\n            </div>\n          </div>\n          <div className=\"footer mt-5\"></div>\n        </div>\n    );\n  }\n}\nexport default withRouter(Dashboard);\n"]},"metadata":{},"sourceType":"module"}